<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Cricket Stream</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #f0f0f0;
      position: relative;
    }

    iframe {
      width: 100%;
      height: 100vh;
      border: none;
    }

    .footer-text {
      position: absolute;
      top: 0;
      width: 100%;
      text-align: center;
      color: red;
      background-color: transparent;
      font-size: 85%;
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      z-index: 10;
    }

    .footer-text span {
      display: inline-block;
      padding-left: 95%;
      animation: slide 25s linear infinite;
    }

    @keyframes slide {
      0% {
        transform: translateX(8%);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    /* Telegram Button */
    .telegram-button {
      position: absolute;
      top: 1px;
      left: 1px;
      z-index: 15;
      cursor: pointer;
    }

    .telegram-button img {
      width: 60px;
      height: 60px;
      border-radius: 20%;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    }
  </style>

  <script>
    // ✅ Popup / New Tab blocker with Confirm
    (function () {
      const originalOpen = window.open;
      window.open = function (url, name, specs) {
        const msg = "⚠️ This page is trying to open a new tab.\n\nDo you want to allow it?";
        if (confirm(msg)) {
          return originalOpen.call(window, url, name, specs);
        } else {
          console.warn("Popup blocked:", url);
          return null;
        }
      };

      // Prevent iframe/scripts from redirecting parent/top
      function blockRedirect(method) {
        return function () {
          const msg = "⚠️ This page is trying to redirect.\n\nDo you want to allow it?";
          if (confirm(msg)) {
            return method.apply(window.location, arguments);
          } else {
            console.warn("Redirect blocked:", arguments[0]);
            return null;
          }
        };
      }

      const loc = window.location;
      loc.assign = blockRedirect(loc.assign);
      loc.replace = blockRedirect(loc.replace);
      Object.defineProperty(loc, 'href', {
        set: blockRedirect(function (v) { originalOpen.call(window, v, "_self"); })
      });
    })();

    // ✅ Page Logic
    window.onload = function () {
      // List of allowed domains
      const allowedDomains = [
        'https://talha-07-live.github.io/Talhas-Web-Host13-astro-cricket/',
        'https://talhas.collection.page.gd/',
        'https://bhaichurikorbenna.servert.rf.gd/',
        'https://wizardfcofficial.rf.gd/'
      ];

      const referrer = document.referrer;
      const isAllowed = allowedDomains.some(domain => referrer.startsWith(domain));

      if (!isAllowed) {
        document.body.innerHTML = '<h1>চুরি করা মহাপাপ (By Order Of Talha, The Creator Of This Page)</h1>';
        return;
      }

      const iframe = document.getElementById('stream-iframe');
      iframe.src = 'https://en.gdplayer.tv/live-tv/astro-cricket/?embed=1';

      // Hide the footer text after 25 seconds
      setTimeout(function () {
        document.querySelector('.footer-text').style.display = 'none';
      }, 25000);
    }

    function openTelegram() {
      window.open('https://t.me/talhasmovie_request_bot', '_blank');
    }
  </script>
</head>

<body>
  <div class="footer-text">
    <span>Welcome to Talha's Stream, You're Watching Live Sports on Talha's Collection</span>
  </div>

  <!-- Telegram Button -->
  <div class="telegram-button" onclick="openTelegram()">
    <img src="https://s1.gifyu.com/images/SAe3R.png" alt="Telegram">
  </div>

  <iframe id="stream-iframe" scrolling="no" frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen; geolocation; web-share; speaker-selection; screen-wake-lock; Idle-detection"
    allowfullscreen></iframe>
</body>
</html>
